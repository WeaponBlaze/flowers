<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthdayyy</title>

<!-- Cursive font -->
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1:#ffe9f2;
    --bg2:#ffd6e8;
    --pink-1:#ff96c6;
    --pink-2:#ff6799;
    --accent:#ff4d88;
    --paper:#fffaf8;
    --shadow: rgba(0,0,0,0.12);
  }
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{
    background: radial-gradient(circle at 10% 20%, rgba(255,255,255,0.6), transparent 10%),
                linear-gradient(180deg,var(--bg1),var(--bg2));
    display:flex;align-items:center;justify-content:center;
    overflow:hidden;
  }

  /* Main stage */
  .stage{
    width:920px; max-width:96vw;
    height:640px; max-height:86vh;
    display:grid;place-items:center;
    position:relative;
    filter: drop-shadow(0 18px 30px rgba(255,102,153,0.06));
  }

  /* envelope */
  .envelope{
    width:520px; height:340px;
    position:relative;
    transform-style:preserve-3d;
    transition: transform 600ms cubic-bezier(.2,.9,.3,1);
    cursor:pointer;
  }
  .envelope .body{
    position:absolute;left:0;top:0;right:0;bottom:0;
    background:linear-gradient(180deg,var(--paper),#fff);
    border-radius:10px;
    box-shadow:0 12px 30px var(--shadow), inset 0 -6px 14px rgba(0,0,0,0.02);
    overflow:hidden;
    border:1px solid rgba(255,118,154,0.12);
  }
  /* flap */
  .envelope .flap{
    position:absolute;
    left:0; right:0; top:-2px;
    height:50%;
    transform-origin:center top;
    background: linear-gradient(180deg, var(--pink-1), var(--pink-2));
    clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
    transition: transform 700ms cubic-bezier(.2,.9,.3,1);
    box-shadow: 0 10px 30px rgba(255,95,160,0.14);
    border:1px solid rgba(255,118,154,0.12);
  }
  .envelope .seal{
    position:absolute;
    left:50%; top:36%;
    transform:translate(-50%,-50%);
    width:74px; height:74px;
    border-radius:50%;
    background:radial-gradient(circle at 35% 30%, #fff4f8, var(--accent));
    display:flex;align-items:center;justify-content:center;
    color:white;font-weight:700;
    box-shadow:0 6px 18px rgba(255,80,140,0.18);
    border:3px solid rgba(255,255,255,0.18);
    font-size:26px;
  }

  /* letter (hidden until open) */
  .letter{
    width:440px; height:290px;
    position:absolute;left:50%;transform:translateX(-50%);
    top:30px;
    background:var(--paper);
    border-radius:8px;
    box-shadow: 0 16px 40px rgba(0,0,0,0.12);
    border:1px solid rgba(0,0,0,0.03);
    transform-origin: bottom center;
    transition: transform 600ms cubic-bezier(.2,.9,.3,1), opacity 400ms;
    opacity:0;
    pointer-events:none;
    display:grid;
    overflow:visible;
  }

  /* When envelope open */
  .envelope.open{ transform:translateY(-6px); }
  .envelope.open .flap{ transform: rotateX(-180deg); box-shadow: none; }
  .envelope.open .letter{ opacity:1; transform: translateX(-50%) translateY(-18px); pointer-events:auto; }

  /* pages stack */
  .pages{
    position:relative; width:100%; height:100%;
    padding:28px;
    perspective:1200px;
  }
  .page{
    --page-bg: linear-gradient(180deg,#fff,#fffaf8);
    position:absolute; inset:0;
    background:var(--page-bg);
    border-radius:6px;
    box-shadow: 0 8px 22px rgba(0,0,0,0.08);
    transform-origin:left center;
    transition: transform 800ms cubic-bezier(.2,.9,.3,1), box-shadow 300ms;
    backface-visibility:hidden;
    padding:28px;
    display:flex; align-items:center; justify-content:center;
    cursor:pointer;
    user-select:none;
  }
  .page:nth-child(1){ z-index:5; }
  .page:nth-child(2){ z-index:4; transform: translateX(3px); }
  .page:nth-child(3){ z-index:3; transform: translateX(6px); }
  .page:nth-child(4){ z-index:2; transform: translateX(9px); }

  .page p{
    font-family: 'Dancing Script', cursive;
    font-size:26px;
    color:#86284b;
    margin:0; text-align:center; line-height:1.4;
    letter-spacing:0.6px;
    text-shadow: 0 1px 0 rgba(255,255,255,0.6);
  }

  /* flipped state - turn like a page to the left */
  .page.flipped{
    transform: rotateY(-180deg) translateX(-6px) scaleX(-1);
    box-shadow: none;
  }

  /* hint */
  .hint{
    position:absolute; bottom:-42px; left:50%; transform:translateX(-50%);
    font-size:13px; color:#8a4660; opacity:0.9;
  }

  /* falling flowers container */
  .sky {
    pointer-events:none;
    position:absolute; inset:0;
    overflow:hidden;
    z-index:1;
  }
  .flower{
    position:absolute; top:-80px;
    width:42px; height:42px;
    opacity:0.95;
    transform-origin:center;
    will-change: transform, opacity;
    filter: drop-shadow(0 10px 18px rgba(255,80,140,0.12));
    animation-name: fall, sway;
    animation-iteration-count: 1, infinite;
    animation-timing-function: cubic-bezier(.2,.9,.3,1), ease-in-out;
  }

  /* fall moves down with rotate */
  @keyframes fall{
    0%{ transform: translateY(-120px) rotate(0deg) scale(1); opacity:0; }
    10%{ opacity:1; }
    90%{ opacity:1; }
    100%{ transform: translateY(110vh) rotate(720deg) scale(0.8); opacity:0.95; }
  }
  @keyframes sway{
    0%{ transform: translateX(0px); }
    50%{ transform: translateX(18px); }
    100%{ transform: translateX(0px); }
  }

  /* small UX polish */
  .footer-note{
    position:absolute; bottom:20px; right:20px;
    color:#7a3b55; font-size:12px; opacity:0.6;
  }

  /* responsive */
  @media (max-width:650px){
    .envelope{ width:88vw; height:58vw; }
    .letter{ width:78vw; height:52vw; top:20px; }
  }

</style>
</head>
<body>
<div class="stage" aria-hidden="false">
  <div class="sky" id="sky"></div>

  <div class="envelope" id="envelope" role="button" aria-label="Open letter" tabindex="0">
    <div class="body"></div>
    <div class="flap"></div>
    <div class="seal">‚ù§</div>

    <div class="letter" id="letter" aria-hidden="true">
      <div class="pages" id="pages" title="Click a page to turn">
        <div class="page" data-index="0">
          <p>My LOVEE, JYANTIKAAAAA!!</p>
        </div>
        <div class="page" data-index="1">
          <p>Happy Birthday to you my love, have a greatt and beautiful day ahead <br> -Apka Pyaara Bhadwaa</p>
        </div>
        <div class="page" data-index="2">
          <p>May this small bouquet carry a thousand warm wishes and a gentle smile. <br> ENJOY YOUR DAY MADAM JI! I'll always be with you</p>
        </div>
        <div class="page" data-index="3">
          <p>I loveee youuuu SOOO MUCCHHHHHH, I want you to be a part of me and I want you to be with me. I LOVEE YOUUUUUUUU!!!<br> This day is special for you and me birth of my lovee LOL</p>
        </div>
      </div>
      <div class="hint">CLICK TO SEE</div>
    </div>
  </div>

  <div class="footer-note">Touch for flowers</div>
</div>

<script>
  // Minimal helpers
  const envelope = document.getElementById('envelope');
  const letter = document.getElementById('letter');
  const pages = Array.from(document.querySelectorAll('.page'));
  const sky = document.getElementById('sky');

  let opened = false;
  let current = 0;

  // Open envelope toggling
  function openEnvelope(){
    if(opened) return;
    opened = true;
    envelope.classList.add('open');
    letter.setAttribute('aria-hidden','false');
    startFlowers(18);
    // initial focus to first page
    pages[0].focus?.();
  }

  envelope.addEventListener('click', openEnvelope);
  envelope.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openEnvelope(); }
  });

  // Page turn logic
  pages.forEach((page, idx)=>{
    page.addEventListener('click', (e)=>{
      e.stopPropagation();
      if(!opened) return;
      if(idx !== current) return; // only top page can be turned
      page.classList.add('flipped');
      current++;
      // subtle pop of flowers when turning
      sprinkle(5);
      // loop pages: when all flipped, reset after a pause
      if(current >= pages.length){
        setTimeout(()=> resetPages(), 1600);
      }
    });
  });

  function resetPages(){
    pages.forEach(p => p.classList.remove('flipped'));
    current = 0;
    // gentle cascade of flowers on reset
    sprinkle(8);
  }

  // Flower SVG (small blossom)
  function flowerSVG(color="#ff88b6"){
    return `
      <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" width="64" height="64">
        <defs>
          <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
            <stop offset="0" stop-color="#fff1f6"/>
            <stop offset="1" stop-color="${color}"/>
          </linearGradient>
        </defs>
        <g transform="translate(0,0)">
          <path d="M32 8C28 6 24 10 20 14c-6 6-8 12-6 16 2 6 10 10 16 8 6-2 10-8 12-12 2-6-2-12-8-16-4-2-8-6-10-10z" fill="url(#g)" opacity="0.98"/>
          <circle cx="32" cy="34" r="6" fill="#ffd4e6" />
        </g>
      </svg>
    `;
  }

  // Spawn falling flower(s)
  function spawnFlower(options = {}){
    const el = document.createElement('div');
    el.className = 'flower';
    const colors = ['#ff9ecf','#ff7aa9','#ff5d92','#ffb4d6','#ff86bf'];
    const color = options.color || colors[Math.floor(Math.random()*colors.length)];
    el.innerHTML = flowerSVG(color);
    const left = (options.left !== undefined) ? options.left : (Math.random()*100);
    const size = options.size || (28 + Math.random()*36);
    const duration = options.duration || (4 + Math.random()*6); // seconds
    const delay = options.delay || (Math.random()*2);
    el.style.left = left + 'vw';
    el.style.width = size + 'px';
    el.style.height = size + 'px';
    el.style.opacity = (0.8 + Math.random()*0.25);
    // set animations
    el.style.animationDuration = `${duration}s, ${1.5 + Math.random()*2}s`;
    el.style.animationDelay = `${delay}s, 0s`;
    el.style.transform = `rotate(${Math.random()*360}deg)`;
    sky.appendChild(el);
    // cleanup after animation
    setTimeout(()=> {
      el.remove();
    }, (delay+duration+0.5)*1000);
  }

  // Start a gentle continuous rain of flowers
  let rainInterval;
  function startFlowers(count = 12){
    // spawn a few immediately
    for(let i=0;i<Math.min(count,10);i++){
      spawnFlower({ left: Math.random()*96, delay: Math.random()*0.8, duration: 4+Math.random()*5 });
    }
    // then set interval for occasional extras
    if(rainInterval) clearInterval(rainInterval);
    rainInterval = setInterval(()=> {
      spawnFlower({ left: Math.random()*96, duration: 4+Math.random()*5 });
      // add a slightly larger cluster sometimes
      if(Math.random() < 0.28){
        spawnFlower({ left: Math.random()*96, size: 48, duration: 5 + Math.random()*4 });
      }
    }, 800);
  }

  // sprinkle for interactions
  function sprinkle(n=4){
    for(let i=0;i<n;i++){
      setTimeout(()=> {
        spawnFlower({
          left: 30 + Math.random()*40,
          size: 22 + Math.random()*36,
          duration: 3 + Math.random()*3,
          delay: Math.random()*0.2
        });
      }, i*120);
    }
  }

  // Accessibility: allow clicking letter area to turn pages too
  document.getElementById('letter').addEventListener('click', (e)=>{
    // if clicked outside any page, try to flip top
    if(!opened) return;
    const topPage = pages[current];
    if(topPage) topPage.click();
  });

  // small first-time guided animation (flap wiggle)
  window.addEventListener('load', ()=>{
    // gentle flap prompt
    envelope.animate([
      { transform: 'translateY(0)' },
      { transform: 'translateY(-8px)' },
      { transform: 'translateY(0)' }
    ], { duration: 1200, iterations: 1, easing: 'ease-out' });
  });
</script>
</body>
</html>